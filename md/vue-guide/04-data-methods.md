# データプロパティとメソッド

## データプロパティ
  * コンポーネントの `data`オプションは関数
    * ```js
      const app = Vue.createApp({
        data () {
          return { count: 4 };
        }
      });
  * Vue は新しいコンポーネントのインスタンスを作るときに、この関数を呼び出す_
    * `data`オプションはオブジェクト`{...}`を返す
    * `data`オプションが返すオブジェクトは Vue のリアクティブシステムでラップされる_
    * コンポーネントのインスタンスに `$data` として格納される_
    * `vm.$data.count` のようにアクセスできる
    * コンポーネントのインスタンスを介して直接公開される_
    * `vm.count` のようにもアクセスできる
  * あとから `data` にプロパティを追加できるが、Vue のリアクティブシステムで自動的に追跡はされない_
  * `$` と `_` はプロパティ名に使わない
    * `$` はビルドインAPI を公開する際のプレフィックスとして使われる_
    * `_` は内部プロパティのために予約されている


## メソッド
  * コンポーネントのインスタンスにメソッドを追加するときは `methods`オプションを使う_
    * ```js
      const app = Vue.createApp({
        data () { ... },
        methods: {
          increment () { this.count++; }
        }
      });
      ```
  * メソッドはオブジェクト`{...}` の形で定義する
  * `this` は常にコンポーネントインスタンスを参照する_
  * Vue が適切な `this` を束縛できなくなるため、アロー関数で定義するのは避けたほうがよい
  * 定義したメソッドは、コンポーネントのテンプレート内からアクセスできる
    * テンプレート内からはイベントリスナーとしてよく使われる_
    * ```html
      <button @click="increment">Up Vote</button>
      ```
  * テンプレートから呼び出されるメソッドはデータの変更や非同期処理の発火などの副作用があってはならない
  * その場合は、ライフサイクルフックを利用すべき_


### Debounce と Throttle
  * [下記定義の引用元](https://aloerina01.github.io/blog/2017-08-03-1)
  * Debounce
    * 連続して大量に繰り返される処理が、指定時間内に何度発生しても最後の一回だけ実行するもの
    * resizeイベントなどでよく使われる_
    * 「ウインドウサイズが変わったときに、要素のサイズを変える」みたいなケース_
    * ウインドウの端をつまんでドラッグするイベントをすべてハンドリングしても意味はない_
    * ドロップしたタイミング、resize が完了したタイミングのイベントを取れば十分_
  * Throttle
    * 連続して大量に繰り返される処理を一定間隔で間引くもの
    * scrollイベントなどでよく使われる_
    * scrollイベントをすべてハンドリングすると処理回数が多くなり、動作がもっさりしてしまうことがある_
    * それを防ぐときに使われる
  * Vue には Debounce や Throttle は組み込まれていない
  * [Lodash](https://lodash.com/) などのライブラリを使う
